{"version":3,"sources":["../src/manager.ts","../src/constants.ts","../src/components/sketch-download.tsx"],"names":["addons","types","ADDON_ID","DOWNLOAD_EVENT","NAME","React","useStorybookApi","useChannel","Icons","IconButton","SketchPlugin","api","emit","downloadCurrent","viewMode"],"mappings":"AAAA,OAAS,UAAAA,EAAQ,SAAAC,MAAa,yBCAvB,IAAMC,EAAW,SACXC,EAAiB,GAAGD,aACpBE,EAAO,gBCFpB,OAAOC,MAAW,QAClB,OAAS,mBAAAC,EAAiB,cAAAC,MAAkB,yBAC5C,OAAS,SAAAC,EAAO,cAAAC,MAAkB,wBAGnB,SAARC,GAAgC,CACrC,IAAMC,EAAML,EAAgB,EACtBM,EAAOL,EAAW,CAAC,CAAC,EAEpBM,EAAkBR,EAAM,YAAY,IAAM,CAC9CO,EAAKT,EAAgB,CAAE,MAAOQ,EAAI,oBAAoB,EAAE,EAAG,CAAC,CAC9D,EAAG,CAAC,CAAC,EAEL,OACEN,EAAA,cAACI,EAAA,CAAW,QAASI,EAAiB,MAAM,wBAC1CR,EAAA,cAACG,EAAA,CAAM,KAAK,WAAW,CACzB,CAEJ,CFdAR,EAAO,SAASE,EAAU,IAAM,CAC9BF,EAAO,IAAIE,EAAU,CACnB,KAAMD,EAAM,KACZ,MAAOG,EACP,MAAO,CAAC,CAAE,SAAAU,CAAS,IAAMA,IAAa,QACtC,OAAQJ,CACV,CAAC,CACH,CAAC","sourcesContent":["import { addons, types } from '@storybook/manager-api';\nimport { ADDON_ID, NAME } from './constants';\nimport SketchPlugin from './components/sketch-download';\n\naddons.register(ADDON_ID, () => {\n  addons.add(ADDON_ID, {\n    type: types.TOOL,\n    title: NAME,\n    match: ({ viewMode }) => viewMode === 'story',\n    render: SketchPlugin\n  });\n});\n","export const ADDON_ID = \"sketch\";\nexport const DOWNLOAD_EVENT = `${ADDON_ID}:download`;\nexport const NAME = \"Sketch Export\";","import React from 'react';\nimport { useStorybookApi, useChannel } from '@storybook/manager-api';\nimport { Icons, IconButton } from '@storybook/components';\nimport { DOWNLOAD_EVENT } from '../constants';\n\nexport default function SketchPlugin() {\n  const api = useStorybookApi();\n  const emit = useChannel({});\n\n  const downloadCurrent = React.useCallback(() => {\n    emit(DOWNLOAD_EVENT, { title: api.getCurrentStoryData().id });\n  }, []);\n\n  return (\n    <IconButton onClick={downloadCurrent} title=\"Download Sketch File\">\n      <Icons icon=\"download\" />\n    </IconButton>\n  );\n}\n"]}